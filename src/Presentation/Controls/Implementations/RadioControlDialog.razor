@inject IStringLocalizer<ConfirmDialog> _localizer;
@inject IClientService _clientService;

<MudDialog>
    <DialogContent>
        <MudList Clickable=true>
            @foreach (var (key, value) in Payloads)
            {
                <MudListItem OnClick="(()=> ReturnKey(key))">
                    <MudText>@key</MudText>
                    <MudText>@value</MudText>
                </MudListItem>
            })
        </MudList>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel"
                   Variant="Variant.Filled"
                   Color="Color.Error">@_localizer["Cancel"]</MudButton>
    </DialogActions>
</MudDialog>

@code
{
    [CascadingParameter]
    private MudDialogInstance? Dialog { get; set; }

    [Parameter]
    public Dictionary<string, string> Payloads { get; set; } = new();

    private void Cancel() => Dialog!.Cancel();

    private void ReturnKey(string key) => Dialog!.Close(DialogResult.Ok(key));
}


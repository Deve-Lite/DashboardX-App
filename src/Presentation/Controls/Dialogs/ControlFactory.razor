@inject IStringLocalizer<ControlFactory> _localizer;


<MudGrid Class="p-0 m-0 w-100 d-flex" Style="max-width:16rem;">

    <MudItem xs="3"  Class="p-0 m-0 d-flex flex-column justify-content-center align-items-center" >

        <MudIconButton Size="Size.Medium"
                       Icon="@IconUtils.DefaultEditIcon"
                       Class="m-0"
                       OnClick="async() => await ControlPagesUtils.UpdateControl(_dialogService, Control!, Client!.Id, StateHasChanged, _localizer)" />

        <MudIconButton Size="Size.Medium"
                       Icon="@IconUtils.DefaultRemoveIcon"
                       Class="m-0"
                       OnClick="async() => await ControlPagesUtils.RemoveControl(_dialogService, Control!, Client!.Id, _localizer)" />

    </MudItem>

    <MudItem xs="9" Class="p-0 m-0 w-100 h-100">
        @if (Control!.Type == ControlType.State)
        {
            <!--TODO: Thinkof state control placing -->
        }
        else if (Control!.Type == ControlType.Button)
        {
            <ButtonControl Client="@Client" Device="@Device" Control="@Control" />
        }
        else
        {
            <MudText>
                @_localizer["Sorry this control is not yet implemented."]
            </MudText>
        }
    </MudItem>
</MudGrid>


@code
{

    [Parameter]
    public Control? Control { get; set; }

    [Parameter]
    public Client? Client { get; set; }

    [Parameter]
    public Device? Device { get; set; }

}
